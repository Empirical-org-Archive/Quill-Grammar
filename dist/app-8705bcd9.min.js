!function e(t,r,n){function i(l,o){if(!r[l]){if(!t[l]){var u="function"==typeof require&&require;if(!o&&u)return u(l,!0);if(s)return s(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var a=r[l]={exports:{}};t[l][0].call(a.exports,function(e){var r=t[l][1][e];return i(r?r:e)},a,a.exports,e,t,r,n)}return r[l].exports}for(var s="function"==typeof require&&require,l=0;l<n.length;l++)i(n[l]);return i}({"./src/scripts/app/app.module.js":[function(e){"use strict";angular.module("quill-grammar",[e("./core/core.module.js").name,e("./index/index.module.js").name,e("./cms/cms.module.js").name,e("./activities/module.js").name,e("./layout/layout.module.js").name]).config(e("./app.config.js"))},{"./activities/module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/module.js","./app.config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/app.config.js","./cms/cms.module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.module.js","./core/core.module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/core/core.module.js","./index/index.module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.module.js","./layout/layout.module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/layout/layout.module.js"}],"/home/will/Clients/Quill-Grammar/.tmp/config.js":[function(e,t){t.exports=angular.module("quill-grammar.config",[]).constant("environment","production").constant("firebaseUrl","https://quillgrammar.firebaseio.com/")},{}],"/home/will/Clients/Quill-Grammar/.tmp/templates.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.templates",[]).run(["$templateCache",function(e){e.put("index.html",'<!DOCTYPE html><html ng-app="quill-grammar" ng-strict-di><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title></title><base href="/"></head><body><ui-view></ui-view></body></html>'),e.put("cms.html",'<div class="grammar-cms"><grammar-cms-categories-new></grammar-cms-categories-new><grammar-cms-categories-list></grammar-cms-categories-list></div>'),e.put("layout.html","<ui-view></ui-view>"),e.put("activities.html",'<h2>Activities</h2>\n<a ui-sref="sentences.list()">Sentence Writing</a>\n<ui-view></ui-view>\n'),e.put("index.html",'<button ng-show="showNextQuestion" ng-click="nextQuestion()">Next Question</button>\n<grammar-rule-question rule-question="currentRuleQuestion">\n</grammar-rule-question>\n<button ng-show="showPreviousQuestion" ng-click="previousQuestion()">Previous Question</button>\n'),e.put("categories.list.html",'<ul>\n  <li ng-repeat="category in categories">\n    <grammar-cms-category category="category"></grammar-cms-category>\n  <li>\n</ul>\n'),e.put("categories.new.html",'<button ng-click=\'toggleCategoryModal()\'>New Category</button>\n<grammar-cms-modal-dialog\n  show=\'showNewCategoryModal\'\n  action=\'saveCategory\'>\n  <form validate>\n    <label for="category">Category Title</label>\n    <input type="text" name="category" placeholder="Category Name" ng-model="category.title" />\n    <input type="submit" ng-click="$parent.doAction(category)" value="Add Category" />\n  </form>\n</grammar-cms-modal-dialog>\n'),e.put("category.edit.html",'<ul>\n  <li><img src="assets/images/newrule.png" ng-click=\'newRule()\' alt="Add Rule" title="Add Rule"/></li>\n  <li><img src="assets/images/delete.png" ng-click="showDeleteCategory()" alt="Delete Category" title="Delete Category"/></li>\n  <li><img src="assets/images/edit.png" ng-click="editCategory(category)" alt="Edit Category" title="Edit Category"/></li>\n</ul>\n\n<grammar-cms-modal-dialog\n  show=\'showNewRuleModal\'\n  action=\'saveRule\'>\n  <form validate ng-submit="$parent.doAction(category, rule)">\n    <p>New Rule for {{category.title}}</p>\n    <input type="text" name="rule" placeholder="Rule Name" ng-model="rule.title" required/>\n    <input type="text" name="description" placeholder="Rule Description"\n      ng-model="rule.description" required/>\n    <input type="text" name="classification" placeholder="Rule Classification"\n      ng-model="rule.classification" required/>\n    <input type="submit" value="Add Rule" />\n  </form>\n</grammar-cms-modal-dialog>\n\n<grammar-cms-delete-modal-dialog show=\'showDeleteCategoryModal\' on-delete="deleteCategory" item="category">\n  <p>Deleting this will delete all rules and practice questions in this category.</p>\n</grammar-cms-delete-modal-dialog>\n'),e.put("category.show.html",'<div class="grammar-cms-section">\n  <div class="grammar-cms-heading">\n    <h2>{{category.title}}</h2>\n    <button\n      ng-show="!category.resolvedRules"\n      ng-click="showRules(category)"\n    >Show Rules</button>\n  <p>{{category.error}}</p>\n  </div>\n  <grammar-cms-category-panel\n    category="category"\n    class="grammar-cms-panel">\n  </grammar-cms-category-panel>\n</div>\n<div ng-show="category.resolvedRules">\n  <grammar-cms-rule\n    ng-show="rule"\n    rule="rule"\n    ng-repeat="rule in category.resolvedRules">\n  </grammar-cms-rule>\n  <button ng-click="hideRules(category)">Hide Rules</button\n</div>\n'),e.put("deleteModal.html",'<div class="modal" ng-show="show">\n  <input class="modal-state" type="checkbox" ng-checked="show"/>\n  <div class="modal-window">\n    <div class="modal-inner">\n      <label class="modal-close" ng-click="hideModal()"></label>\n      <p>Delete {{item.title}}?<p>\n      <div ng-transclude></div>\n      <button ng-click="_onDelete(item)">Delete</button>\n      <p class="error" ng-show="error">{{error}}</p>\n    </div>\n  </div>\n</div>\n'),e.put("modal.html",'<div class="modal" ng-show="show">\n  <input class="modal-state" type="checkbox" ng-checked="show"/>\n  <div class="modal-window">\n    <div class="modal-inner">\n      <label class="modal-close" ng-click="hideModal()"></label>\n      <div ng-transclude></div>\n    </div>\n  </div>\n</div>\n'),e.put("question.edit.html",'<ul>\n  <li><span class="spacer"></span></li>\n  <li><img src="assets/images/delete.png" ng-click="showDeleteRuleQuestion()" alt="Delete Rule Question" title="Delete Rule Question"/></li>\n  <li><img src="assets/images/edit.png" ng-click="editRuleQuestion(question)" alt="Edit Rule Question"/title="Edit Rule Question"></li>\n</ul>\n\n<grammar-cms-delete-modal-dialog show=\'showDeleteRuleQuestionModal\' on-delete="deleteRuleQuestion" item="question">\n  <p>{{question.prompt}}</p>\n</grammar-cms-delete-modal-dialog>\n'),e.put("question.show.html",'<div class="grammar-cms-section">\n  <div class="grammar-cms-heading">\n    <p>{{question.prompt}}</p>\n  </div>\n  <grammar-cms-rule-question-panel class="grammar-cms-panel" question="question"></grammar-cms-rule-question-panel>\n</div>\n'),e.put("rule.edit.html",'<ul>\n  <li><img src="assets/images/newrulequestion.png" ng-click=\'showRuleQuestionModal()\' alt="Add Rule Question" title="Add Rule Question"/></li>\n  <li><img src="assets/images/delete.png" ng-click="showDeleteRule()" alt="Delete Rule" title="Delete Rule"/></li>\n  <li><img src="assets/images/edit.png" ng-click="editRule(rule)" alt="Edit Rule" title="Edit Rule"/></li>\n</ul>\n\n<grammar-cms-modal-dialog\n  show=\'showNewRuleQuestionModal\'\n  action=\'saveRuleQuestion\'>\n  <form validate ng-submit=\'$parent.doAction(rule, question)\'>\n    <p>Adding rule question for rule "{{rule.title}}"</p>\n    <input required type="text" name="prompt" placeholder="Prompt"\n    ng-model="question.prompt" />\n    <input type="text" name="hint" placeholder="Hint"\n    ng-model="question.hint" />\n    <p><b>Body</b></p>\n    <ul>\n      <li style="display: block;" ng-repeat="b in question.body">\n        <input type="text" ng-model="b" />\n      </li>\n    </ul>\n    <input type="text" name="body" placeholder="Correct Response"\n    ng-model="question.tempB" />\n    <button type="button" ng-click="addAnswerToBody(question)">\n      Add Correct Response\n    </button>\n    <input required type="text" name="instructions" placeholder="Instructions"\n    ng-model="question.instructions"/>\n    <input type="submit" value="Add Practice Question" />\n  </form>\n</grammar-cms-modal-dialog>\n\n<grammar-cms-delete-modal-dialog show=\'showDeleteRuleModal\' on-delete="deleteRule" item="rule">\n  <p>This will delete all practice questions for this rule.</p>\n</grammar-cms-delete-modal-dialog>\n'),e.put("rule.show.html",'<div class="grammar-cms-section">\n  <div class="grammar-cms-heading">\n    <h5>{{rule.title}} - {{rule.ruleNumber}}</h5>\n  </div>\n  <grammar-cms-rule-panel class="grammar-cms-panel"\n  rule="rule"></grammar-cms-rule-panel>\n</div>\n\n<ul>\n  <li ng-repeat="question in rule.resolvedRuleQuestions">\n    <grammar-cms-rule-question question="question"></grammar-cms-rule-question>\n  </li>\n</ul>\n'),e.put("sentences.list.html",'<h2>Sentence Writing</h2>\n<ul ng-repeat="set in sentences">\n  <li><h3>{{set.title}}</h3><a ui-sref="sentences.edit({id: set.$id})">edit</a></li>\n</ul>\n\n<a ui-sref="sentences.new.details()">new</a>\n'),e.put("sentences.new.details.html",'<form validate ng-submit="nextStep()">\n  <label for="sentence.new">Practice Question</label>\n  <input type="text" name="sentence.new" placeholder="Name"\n    ng-model="newSentence.title" required/>\n  <input type="text" name="sentence.description" placeholder="Description"\n  ng-model="newSentence.description" required/>\n  <select ng-options="flag.title for flag in flags" ng-model="newSentence.flag"\n    placeholder="Flag" required></select>\n  <select ng-options="cat.title for cat in availableCategories"\n    ng-model="newSentence.category" required></select>\n  <button type="submit">Next</button>\n</form>\n'),e.put("sentences.new.html","<h3>New Sentence Writing</h3>\n<div ui-view></div>\n"),e.put("sentences.new.questions.html",'<select ng-options="(rule.ruleNumber + \'. \' + rule.title) for rule in availableRules" ng-model="tempRule"></select>\n\n<button ng-click="addRule(tempRule)">Add Rule</button>\n\n<ul ng-repeat="rule in newSentence.rules">\n  <li>\n    <h4>{{rule.ruleNumber}}. {{rule.title}}</h4>\n    <p>{{rule.description}}</p>\n    <input type="text"\n       placeholder="Number of Questions from this Rule"\n       ng-model="rule.quantity"/>\n    <button ng-click="removeRule(rule)">X Remove</button>\n  </li>\n</ul>\n<div class="error" ng-show="error">\n  <p>{{error}}</p>\n</div>\n\n<button\n    ng-click="submitNewSentence(newSentence)"\n    ng-show="newSentence.rules.length > 0">\n  Submit\n</button>\n'),e.put("ruleQuestion.html",'<div class="ruleQuestion">\n  <p ng-bind-html="ruleQuestion.resolvedInstructions | trustedHtml"></p>\n  <p ng-bind-html="ruleQuestion.hint | trustedHtml"></p>\n  <p ng-bind-html="ruleQuestion.prompt | formatPrompt | trustedHtml"></p>\n  <input type="text" ng-model="ruleQuestion.response"/>\n  <button ng-click="checkAnswer()">Check Answer</button>\n  <p ng-show="ruleQuestion.message">{{ruleQuestion.message}}</p>\n</div>\n')}])},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/config.js":[function(e,t){"use strict";t.exports=["$stateProvider",function(e){e.state("activities",{parent:"app",url:"/activities",templateUrl:"activities.html"})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/controller.js":[function(e,t){"use strict";t.exports=["$scope",function(){}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.activities",[e("./sentences/module.js").name]).config(e("./config.js")).controller("activities",e("./controller.js"))},{"./config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/config.js","./controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/controller.js","./sentences/module.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/module.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/config.js":[function(e,t){"use strict";t.exports=["$stateProvider",function(e){e.state("sentences",{parent:"activities",controller:"SentencesCtrl",url:"/sentences",template:"<div ui-view></div>"}).state("sentences.list",{url:"/list",templateUrl:"sentences.list.html"}).state("sentences.edit",{url:"/edit/:id",templateUrl:"sentences.edit.html"}).state("sentences.new",{url:"/new",templateUrl:"sentences.new.html"}).state("sentences.new.details",{parent:"sentences.new",url:"/details",templateUrl:"sentences.new.details.html"}).state("sentences.new.questions",{parent:"sentences.new",url:"/questions",templateUrl:"sentences.new.questions.html"})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/controller.js":[function(e,t){"use strict";t.exports=["$scope","CategoryService","$state","RuleService","SentenceWritingService","_","$timeout",function(e,t,r,n,i,s,l){function o(){e.error=null}function u(t){e.error=t,l(o,5e3)}e.newSentence={},e.flags=[{$id:1,title:"Production"},{$id:2,title:"Beta"}],i.getAllSentenceWritings().then(function(t){e.sentences=t}),t.getCategories().then(function(t){e.availableCategories=t}),n.getAllRules().then(function(t){e.availableRules=t}),e.nextStep=function(){r.go("^.questions")},e.addRule=function(t){try{if(e.newSentence.rules||(e.newSentence.rules=[]),s.find(e.newSentence.rules,t))throw new Error("Cannot have two instances of the same rule "+t.title);t&&e.newSentence.rules.push(t)}catch(r){u(r.message)}},e.removeRule=function(t){e.newSentence.rules&&(e.newSentence.rules=s.without(e.newSentence.rules,t))},e.submitNewSentence=function(t){try{var n=s.every(t.rules,function(e){return Number(e.quantity)>0});if(!n)throw new Error("Please make all rules have a quanity greater than zero");i.saveSentenceWriting(t).then(function(){e.newSentence={},r.go("^.^.list")},function(e){u(e.message)})}catch(l){u(l.message)}}}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.activities.sentences",[e("./../../../services/sentenceWriting.js").name]).config(e("./config.js")).controller("SentencesCtrl",e("./controller.js"))},{"./../../../services/sentenceWriting.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/sentenceWriting.js","./config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/config.js","./controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/activities/sentences/controller.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/app/app.config.js":[function(e,t){"use strict";t.exports=["$urlRouterProvider","$locationProvider",function(e,t){e.otherwise("/"),t.html5Mode({enabled:!0})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.config.js":[function(e,t){"use strict";t.exports=["$stateProvider",function(e){e.state("cms",{parent:"app",url:"/cms",templateUrl:"cms.html",controller:"cms"})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.controller.js":[function(e,t){"use strict";t.exports=function(){}},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.cms",[e("./../../directives/grammarCMS").name]).config(e("./cms.config.js")).controller("cms",e("./cms.controller.js"))},{"./../../directives/grammarCMS":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/index.js","./cms.config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.config.js","./cms.controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/cms/cms.controller.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/app/core/core.module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.core",["ui.router",e("../../../../.tmp/config").name,e("../../../../.tmp/templates").name])},{"../../../../.tmp/config":"/home/will/Clients/Quill-Grammar/.tmp/config.js","../../../../.tmp/templates":"/home/will/Clients/Quill-Grammar/.tmp/templates.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.config.js":[function(e,t){"use strict";t.exports=["$stateProvider",function(e){e.state("index",{parent:"app",url:"/",templateUrl:"index.html",controller:"index as ind"})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.controller.js":[function(e,t){"use strict";t.exports=["$scope","RuleQuestionService",function(e,t){t._getAllRuleQuestionsWithInstructions().then(function(t){var r=0;e.showNextQuestion=!1,e.showPreviousQuestion=!1,e.currentRuleQuestion=t[r],e.nextQuestion=function(){e.currentRuleQuestion=t[++r]},e.previousQuestion=function(){e.currentRuleQuestion=t[--r]},e.$watch("currentRuleQuestion",function(){e.currentRuleQuestion||e.finish(),e.showNextQuestion=r<t.length&&e.currentRuleQuestion&&e.currentRuleQuestion.correct,e.showPreviousQuestion=r>0},!0),e.finish=function(){console.log(r),console.log("Thanks for playing"),e.showNextQuestion=!1,e.showPreviousQuestion=!1}})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.index",[e("./../../directives/grammarElements/ruleQuestion/").name]).config(e("./index.config.js")).controller("index",e("./index.controller.js"))},{"./../../directives/grammarElements/ruleQuestion/":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/index.js","./index.config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.config.js","./index.controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/index/index.controller.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/app/layout/layout.config.js":[function(e,t){"use strict";t.exports=["$stateProvider",function(e){e.state("app",{url:"","abstract":!0,templateUrl:"layout.html"})}]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/app/layout/layout.module.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.layout",[]).config(e("./layout.config.js"))},{"./layout.config.js":"/home/will/Clients/Quill-Grammar/src/scripts/app/layout/layout.config.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/categories.list.js":[function(e,t){"use strict";function r(){return{restrict:"E",templateUrl:"categories.list.html",controller:"GrammarCmsCtrl"}}t.exports=r},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/categories.new.js":[function(e,t){"use strict";function r(){return{restrict:"E",templateUrl:"categories.new.html",controller:"GrammarCmsCtrl"}}t.exports=r},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/category.edit.js":[function(e,t){function r(){return{restrict:"E",scope:{category:"="},templateUrl:"category.edit.html",controller:"CategoryCtrl"}}function n(e,t,r,n){e.deleteCategory=function(e){return t.deleteCategory(e).then(function(){console.log("deleting category ",e)})},e.editCategory=function(e){console.log(e)},e.newRule=function(){e.showNewRuleModal=!0},e.showDeleteCategory=function(){e.showDeleteCategoryModal=!0},e.saveRule=function(i,s){var l=n.defer();return r.saveRule(s).then(function(r){i.rules||(i.rules={}),i.rules[r]=!0,t.updateCategory(i).then(function(){i.resolvedRules||(i.resolvedRules=[]),i.resolvedRules.push(s),e.category=i,l.resolve()},l.reject)},l.reject),l.promise}}t.exports.panel=r,t.exports.controller=["$scope","CategoryService","RuleService","$q",n]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/category.show.js":[function(e,t){"use strict";function r(){return{restrict:"E",templateUrl:"category.show.html",controller:"GrammarCmsCtrl",scope:{category:"="}}}t.exports=r},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/cms.controller.js":[function(e,t){"use-strict";function r(e,t,r){t.getCategories().then(function(t){e.categories=t}),e.showRules=function(e){r.getRules(e.rules).then(function(t){e.resolvedRules=t},function(t){e.error=t})},e.hideRules=function(e){e.resolvedRules=null},e.saveCategory=function(e){return t.saveCategory(e).then(function(){console.log("Saved",e),e.title=""})},e.toggleCategoryModal=function(){e.showNewCategoryModal=!0}}t.exports=["$scope","CategoryService","RuleService",r]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/index.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.directives.grammarCMS",[e("./../../services/category.js").name,e("./../../services/rule.js").name]).directive("grammarCmsCategoriesNew",e("./categories.new.js")).directive("grammarCmsCategoriesList",e("./categories.list.js")).directive("grammarCmsCategory",e("./category.show.js")).directive("grammarCmsRule",e("./rule.show.js")).directive("grammarCmsCategoryPanel",e("./category.edit.js").panel).directive("grammarCmsRulePanel",e("./rule.edit.js").panel).directive("grammarCmsRuleQuestion",e("./question.js").show).directive("grammarCmsRuleQuestionPanel",e("./question.js").panel).directive("grammarCmsModalDialog",e("./modal.js").modal).directive("grammarCmsDeleteModalDialog",e("./modal.js").deleteModal).controller("ModalDialogCtrl",e("./modal.js").controller).controller("RuleCtrl",e("./rule.edit.js").controller).controller("CategoryCtrl",e("./category.edit.js").controller).controller("QuestionCtrl",e("./question.js").controller).controller("GrammarCmsCtrl",e("./cms.controller.js"))},{"./../../services/category.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/category.js","./../../services/rule.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/rule.js","./categories.list.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/categories.list.js","./categories.new.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/categories.new.js","./category.edit.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/category.edit.js","./category.show.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/category.show.js","./cms.controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/cms.controller.js","./modal.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/modal.js","./question.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/question.js","./rule.edit.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/rule.edit.js","./rule.show.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/rule.show.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/modal.js":[function(e,t){function r(){return{restrict:"E",scope:{show:"=",action:"="},replace:!0,transclude:!0,templateUrl:"modal.html",controller:"ModalDialogCtrl",link:function(e){e.hideModal=function(){e.show=!1},e.doAction=function(){e.action.apply(this,arguments).then(function(){e.hideModal()})}}}}function n(){return{restrict:"E",scope:{show:"=",onDelete:"=",item:"="},replace:!0,transclude:!0,templateUrl:"deleteModal.html",link:function(e){e.hideModal=function(){e.show=!1},e._onDelete=function(){e.onDelete(e.item).then(function(){e.hideModal()},function(t){e.error=t})}}}}function i(){}t.exports.modal=r,t.exports.deleteModal=n,t.exports.controller=["$scope",i]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/question.js":[function(e,t){"use strict";function r(){return{restrict:"E",templateUrl:"question.show.html"}}function n(){return{restrict:"E",controller:"QuestionCtrl",templateUrl:"question.edit.html"}}function i(e,t,r){e.showDeleteRuleQuestion=function(){e.showDeleteRuleQuestionModal=!0},e.deleteRuleQuestion=function(n){var i=e.rule;return t.deleteRuleQuestion(n).then(function(){return r.removeRuleQuestionFromRule(i,n)})}}t.exports.show=r,t.exports.panel=n,t.exports.controller=["$scope","RuleQuestionService","RuleService",i]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/rule.edit.js":[function(e,t){"use strict";function r(e,t,r){e.deleteRule=function(){var r=e.category,n=e.rule;return t.deleteRule(r,n).then(function(){e.rule=null},function(t){e.rule.error=t})},e.showDeleteRule=function(){e.showDeleteRuleModal=!0},e.editRule=function(e){console.log("editing rule "+e)},e.showRuleQuestionModal=function(){e.showNewRuleQuestionModal=!0},e.saveRuleQuestion=function(e,n){return r.saveRuleQuestion(n).then(function(r){return e.ruleQuestions||(e.ruleQuestions={}),console.log(r),e.ruleQuestions[r]=!0,t.updateRule(e)})},e.addAnswerToBody=function(e){e&&e.body&&e.body.push&&e.tempB&&(e.body.push(e.tempB),e.tempB=null)},e.question={body:[]}}function n(){return{restrict:"E",controller:"RuleCtrl",templateUrl:"rule.edit.html"}}t.exports.controller=["$scope","RuleService","RuleQuestionService",r],t.exports.panel=n},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarCMS/rule.show.js":[function(e,t){"use strict";function r(){return{restrict:"E",templateUrl:"rule.show.html",controller:"GrammarCmsCtrl"}}t.exports=r},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/controller.js":[function(e,t){"use strict";t.exports=function(e,t){function r(e){if("string"!=typeof e)throw new Error("Input must be type string removeDelimeters");return e.replace(o.open,"").replace(o.close,"")}function n(e){return function(t){var n=r(t);return e===n}}function i(e){return function(r){if(!e)return!1;var n=new RegExp(o.open+"(.*)"+o.close,"g"),i=n.exec(r),s=t.rest(i);return t.every(s,function(t){return-1!==e.indexOf(t)})}}function s(t){e.ruleQuestion.message=t}var l=!1,o={open:"{",close:"}"};e.checkAnswer=function(){var r=e.ruleQuestion,o=r.response,u=t.any(r.body,n(o));if(u)return s("Correct!"),void(e.ruleQuestion.correct=!0);var c=t.any(r.body,i(o));return c&&!l?(s("You are correct, but you have some typing errors. You may correct them or continue"),void(e.ruleQuestion.correct=!0)):(c&&s("You are correct, but have some typing errors. Please fix them."),void s("Try again!"))}},t.exports.$inject=["$scope","_"]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/directive.js":[function(e,t){t.exports=function(){return{restrict:"E",scope:{ruleQuestion:"="},templateUrl:"ruleQuestion.html",controller:"GrammarRuleQuestionCtrl"}}},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/filters.js":[function(e,t){"use strict";t.exports.formatPrompt=function(){return function(e){return e}},t.exports.trustedHtml=function(e){return function(t){return e.trustAsHtml(t)}},t.exports.trustedHtml.$inject=["$sce"]},{}],"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/index.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.directives.ruleQuestion",[]).directive("grammarRuleQuestion",e("./directive.js")).filter("formatPrompt",e("./filters.js").formatPrompt).filter("trustedHtml",e("./filters.js").trustedHtml).controller("GrammarRuleQuestionCtrl",e("./controller.js"))},{"./controller.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/controller.js","./directive.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/directive.js","./filters.js":"/home/will/Clients/Quill-Grammar/src/scripts/directives/grammarElements/ruleQuestion/filters.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/category.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.category",[e("./crud.js").name]).factory("CategoryService",["CrudService","_",function(e,t){var r=new e("categories",["title","rules"]);return this.saveCategory=function(e){return r.save(e)},this.deleteCategory=function(e){return r.del(e)},this.getCategories=function(){return r.all()},this.updateCategory=function(e){return r.update(e)},this.removeRuleFromCategory=function(e,n){if(!e||!e.rules)throw new Error("Category does not have any rules to remove");return t.each(e.rules,function(t,r){r===n.$id&&(e.rules[r]=null)}),r.update(e)},this}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/classification.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.classification",[e("./crud.js").name]).factory("ClassificationService",["CrudService","$q",function(e,t){var r=new e("classifications"),n=this;return n.saveClassification=function(e){return r.save(e)},n.deleteClassification=function(e){return r.del(e)},n.getClassification=function(e){return r.get(e)},n.getClassificationIdByString=function(e){var i=t.defer();return r.all().then(function(t){angular.forEach(t,function(t){var r=t.$value;r.toLowerCase()===e.toLowerCase()&&i.resolve(t.$id)}),n.saveClassification(e).then(function(e){console.log(e),i.resolve(e)},i.reject)},i.reject),i.promise},n}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.crud",["firebase","underscore"]).factory("CrudService",["firebaseUrl","$firebase","$q","_",function(e,t,r,n){function i(i,s){function l(){return g}function o(e){return s&&n.isObject(e)?n.pick(e,function(e,t){return"$"===t[0]||n.contains(s,t)}):e}function u(e){var t=r.defer(),n=o(e);return g.$push(n).then(function(e){t.resolve(e.key())},function(e){t.reject(e)}),t.promise}function c(e){var t=r.defer();if(!e||!e.$id)throw new Error("Item doesn't have an $id property");return g.$remove(e.$id).then(function(e){t.resolve(e.key())},function(e){t.reject(e)}),t.promise}function a(){var e=r.defer(),t=g.$asArray();return t.$loaded().then(function(){e.resolve(t)},function(t){e.reject(t)}),e.promise}function m(e){var n=r.defer(),i=new Firebase(p+"/"+e),s=t(i).$asObject();return s.$loaded().then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function d(e){var t=r.defer();return f.$loaded().then(function(){var r=e.$id;f[r]=o(e),f.$save(r).then(function(e){console.log(e.key()),t.resolve(e.key())},function(e){console.log(e),t.reject(e)})}),t.promise}if(s||(s=[]),"/"!==e[e.length-1]&&(e+="/"),!i||""===i)throw new Error("Firebase Entity MUST be defined");var p=e+i,g=t(new Firebase(p)),f=g.$asObject();return{save:u,del:c,all:a,get:m,update:d,getRef:l}}return i}])},{}],"/home/will/Clients/Quill-Grammar/src/scripts/services/indexBy.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.index",[e("./crud.js").name]).factory("IndexService",["firebaseUrl","$firebase",function(e,t){function r(r){function n(){return t(new Firebase(e+r)).$asObject()}function i(n){return t(new Firebase(e+r+"/"+n)).$asArray()}function s(e,t){return i(e).$loaded().then(function(e){return e.$add(t)})}function l(e,t){return i(e).$loaded().then(function(e){return e.$remove(t)})}function o(e){return n().$loaded().then(function(t){return t.$remove(e)})}function u(e){return i(e)}if("/"!==e[e.length-1]&&(e+="/"),e+="indices/",!r||""===r)throw new Error("Firebase indexName MUST be defined");return{addElementToEntry:s,removeElementFromEntry:l,removeEntry:o,lookUpElementsForEntry:u}}return r}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/instruction.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.instruction",[e("./crud.js").name]).factory("InstructionService",["CrudService",function(e){var t=new e("instructions");return this.saveInstruction=function(e){return t.save(e)},this.deleteInstruction=function(e){return t.del(e)},this.getInstruction=function(e){return t.get(e)},this}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/rule.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.rule",[e("./crud.js").name,e("./ruleQuestion.js").name,e("./classification.js").name]).factory("RuleService",["CrudService","CategoryService","RuleQuestionService","$q","ClassificationService","_",function(e,t,r,n,i,s){var l=new e("rules",["title","description","ruleNumber","classification","ruleQuestions"]);
return this.updateRule=function(e){return l.update(e)},this.saveRule=function(t){function r(e){return i.getClassificationIdByString(e.classification).then(function(t){return e.classification=t,e},function(e){return e})}function s(t){var r=new e("ruleNumberCounter").getRef();r.$transaction(function(e){if(!e)return 1;if(!(0>e))return e+1}).then(function(e){null===e?i.reject(new Error("current rule number error: snapshot null")):(t.ruleNumber=e.val(),i.resolve(t))},function(e){i.reject(e)});var i=n.defer();return i.promise}return r(t).then(s).then(l.save)},this.deleteRule=function(e,r){return l.del(r).then(function(){return t.removeRuleFromCategory(e,r)})},this.getAllRules=function(){return l.all()},this.removeRuleQuestionFromRule=function(e,t){if(!e||!e.ruleQuestions)throw new Error("rule does not have any ruleQuestions to remove");return s.each(e.ruleQuestions,function(r,n){n===t.$id&&(e.ruleQuestions[n]=null)}),l.update(e)},this.getRules=function(e){function t(e){var t=n.defer(),i=[];return angular.forEach(e,function(e){i.push(r.getRuleQuestions(e.ruleQuestions))}),n.all(i).then(function(r){angular.forEach(e,function(e,t){e.resolvedRuleQuestions=r[t]}),t.resolve(e)},function(e){t.reject(e)}),t.promise}function s(e){var t=n.defer(),r=[];return angular.forEach(e,function(e){r.push(i.getClassification(e.classification))}),n.all(r).then(function(r){angular.forEach(e,function(e,t){e&&r[t]&&(e.resolvedClassification=r[t])}),t.resolve(e)},function(r){console.log(r),t.resolve(e)}),t.promise}var o=n.defer(),u=[];return angular.forEach(e,function(e,t){u.push(l.get(t))}),n.all(u).then(t).then(s).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},this}])},{"./classification.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/classification.js","./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js","./ruleQuestion.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/ruleQuestion.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/ruleQuestion.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.ruleQuestion",[e("./crud.js").name,e("./instruction.js").name]).factory("RuleQuestionService",["CrudService","InstructionService","$q",function(e,t,r){function n(e){var n=r.defer(),i=[];return angular.forEach(e,function(e){i.push(t.getInstruction(e.instructions))}),r.all(i).then(function(t){angular.forEach(e,function(e,r){e.resolvedInstructions=t[r].$value}),n.resolve(e)},function(e){n.reject(e)}),n.promise}var i=new e("ruleQuestions",["body","hint","instructions","prompt"]);return this.saveRuleQuestion=function(e){return i.save(e)},this.deleteRuleQuestion=function(e){return i.del(e)},this._getAllRuleQuestionsWithInstructions=function(){return i.all().then(n)},this.getRuleQuestions=function(e){var t=r.defer(),s=[];return angular.forEach(e,function(e,t){s.push(i.get(t))}),r.all(s).then(n).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},this}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js","./instruction.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/instruction.js"}],"/home/will/Clients/Quill-Grammar/src/scripts/services/sentenceWriting.js":[function(e,t){"use strict";t.exports=angular.module("quill-grammar.services.sentenceWriting",[e("./crud.js").name,e("./indexBy.js").name]).factory("SentenceWritingService",["CrudService","_","IndexService",function(e,t,r){var n=new e("sentenceWritings",["flagId","categoryId","rules","title","description"]),i=new r("sentenceWritingsByCategory");return this.saveSentenceWriting=function(e){var r=t.every(["category","flag"],function(t){return e[t]&&e[t].$id?(e[t+"Id"]=e[t].$id,!0):!1});if(!r)throw new Error("SentenceWritingActivity did not contain category or flag");return e.rules=t.map(e.rules,function(e){return{ruleId:e.$id,quantity:e.quantity}}),n.save(e).then(function(t){return i.addElementToEntry(e.categoryId,t)})},this.deleteSentenceWriting=function(e){return n.del(e)},this.getSentenceWriting=function(e){return n.get(e)},this.getAllSentenceWritings=function(){return n.all()},this}])},{"./crud.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/crud.js","./indexBy.js":"/home/will/Clients/Quill-Grammar/src/scripts/services/indexBy.js"}]},{},["./src/scripts/app/app.module.js"]);